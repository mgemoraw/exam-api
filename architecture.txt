exam-api/
│
├── app/
│   │
│   ├── modules/                         # Feature-based modules
│   │
│   │   ├── exam/
│   │   │   ├── domain/
│   │   │   │   ├── entities/
│   │   │   │   │   ├── exam.py
│   │   │   │   │   ├── question.py
│   │   │   │   │   └── option.py
│   │   │   │   ├── value_objects/
│   │   │   │   ├── exceptions.py
│   │   │   │   └── repositories.py
│   │   │   │
│   │   │   ├── application/
│   │   │   │   ├── dto.py
│   │   │   │   ├── use_cases/
│   │   │   │   │   ├── create_exam.py
│   │   │   │   │   ├── submit_exam.py
│   │   │   │   │   ├── get_exam.py
│   │   │   │   │   └── score_exam.py
│   │   │   │   └── interfaces.py
│   │   │   │
│   │   │   ├── infrastructure/
│   │   │   │   ├── models.py              # SQLAlchemy models
│   │   │   │   ├── repository_impl.py
│   │   │   │   ├── cache.py               # Redis caching
│   │   │   │   └── messaging.py           # Kafka publisher
│   │   │   │
│   │   │   └── presentation/
│   │   │       ├── routes.py
│   │   │       ├── schemas.py
│   │   │       └── dependencies.py
│   │   │
│   │   ├── user/
│   │   │   ├── domain/
│   │   │   ├── application/
│   │   │   ├── infrastructure/
│   │   │   └── presentation/
│   │   │
│   │   └── auth/
│   │       ├── domain/
│   │       ├── application/
│   │       ├── infrastructure/
│   │       └── presentation/
│   │
│   ├── shared/                           # Shared cross-module components
│   │   ├── core/
│   │   │   ├── config.py
│   │   │   ├── logging.py
│   │   │   └── constants.py
│   │   │
│   │   ├── database/
│   │   │   ├── base.py
│   │   │   ├── session.py
│   │   │   └── migrations/
│   │   │
│   │   ├── security/
│   │   │   ├── jwt.py
│   │   │   └── password.py
│   │   │
│   │   ├── middleware/
│   │   │   ├── logging_middleware.py
│   │   │   ├── rate_limit_middleware.py
│   │   │   └── exception_handler.py
│   │   │
│   │   └── cache/
│   │       └── redis_client.py
│   │
│   └── main.py
│
├── tests/
│   ├── unit/
│   ├── integration/
│   └── e2e/
│
├── alembic/
├── Dockerfile
├── docker-compose.yml
├── requirements.txt
└── README.md



exam-api/
│
├── app/
│   │
│   ├── modules/
│   │   │
│   │   ├── exam/
│   │   │   ├── models.py          # SQLAlchemy models
│   │   │   ├── schemas.py         # Pydantic schemas
│   │   │   ├── repository.py      # DB access layer
│   │   │   ├── service.py         # Business logic
│   │   │   ├── events.py          # Kafka producers
│   │   │   ├── cache.py           # Redis exam caching logic
│   │   │   └── routes.py          # FastAPI router
│   │   │
│   │   ├── user/
│   │   └── auth/
│   │
│   ├── core/
│   │   ├── config.py
│   │   ├── database.py
│   │   ├── redis.py
│   │   ├── kafka.py
│   │   ├── security.py
│   │   └── logging.py
│   │
│   ├── middleware/
│   │   ├── logging.py
│   │   ├── rate_limit.py
│   │   └── exception_handler.py
│   │
│   └── main.py
│
├── tests/
├── migrations/
├── docker-compose.yml
└── Dockerfile


Client
   ↓
routes.py
   ↓
service.py
   ↓
repository.py (DB)
   ↓
Redis cache (optional)
   ↓
Kafka event (submit_exam event)